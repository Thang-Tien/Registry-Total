(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1742],{79597:function(e,t,n){Promise.resolve().then(n.bind(n,35537))},35537:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var i=n(57437),a=n(6052),s=n(6034),l=n(24033),c=n(2265),r=n(36468),o=n(20434),d=n(38437),x=n(65921),h=n(97365),g=n(9340),p=n(59477),Text=n(75246);let{Item:u}=d.default;var j=e=>{let[t,n]=(0,c.useState)({inspection_number:"",inspection_date:"2020-08-05T17:00:00.000Z",expired_date:"2020-08-05T17:00:00.000Z",first_time:""}),[a,s]=(0,c.useState)({number_plate:"",registration_number:"",registration_date:"2020-08-05T17:00:00.000Z",type:"",brand:"",model_code:"",engine_number:"",chassis_number:"",manufactured_year:"",manufactured_country:"",purpose:"",recovered:""}),[l,j]=(0,c.useState)(-1),[f,m]=(0,c.useState)([]),[w,_]=(0,c.useState)([]);function v(e){let t=e.split("-"),n=t[2].split("T")[0];return"".concat(n,"/").concat(t[1],"/").concat(t[0])}(0,c.useEffect)(()=>{document.title="Th\xf4ng tin đăng kiểm",console.log(t)},[t]),(0,c.useEffect)(()=>{let t=async()=>{try{n(e.data),console.log(e.data);let t=await fetch("http://fall2324w3g10.int3306.freeddns.org/api/v1/cars?car_id=".concat(e.data.car_id));if(!t.ok)throw Error("Fail to get data");let i=await t.json();if(s(i.data[0]),j(i.data[0].owner_id),!(t=await fetch("http://fall2324w3g10.int3306.freeddns.org/api/v1/users/?user_id=".concat(e.data.user_id))).ok||(i=await t.json(),m(i.data[0]),!(t=await fetch("http://fall2324w3g10.int3306.freeddns.org/api/v1/centres?centre_id=".concat(e.data.centre_id))).ok))throw Error("Fail to get data");i=await t.json(),_(i.data[0]),console.log("???")}catch(e){console.log(e)}};t()},[]);let y=[{key:"owner",label:"Th\xf4ng tin chủ sở hữu",children:(0,i.jsx)(h.Z,{ownerId:l})},{key:"car",label:"Phương tiện",children:(0,i.jsx)(x.Z,{data:a})},{key:"specification",label:"Th\xf4ng số kĩ thuật",children:(0,i.jsx)(g.Z,{specification:a})},{key:"inspection",label:"Th\xf4ng tin đăng kiểm",children:(0,i.jsxs)(d.default,{column:1,style:{padding:"1.2rem"},layout:"horizontal",children:[(0,i.jsx)(u,{label:(0,i.jsxs)(p.Z.Row,{alignItems:"center",gap:"10px",children:[(0,i.jsx)(r.$rG,{}),(0,i.jsx)(Text.Z.Div,{content:"Số đăng kiểm"})]}),children:t.inspection_number}),(0,i.jsx)(u,{label:(0,i.jsxs)(p.Z.Row,{alignItems:"center",gap:"10px",children:[(0,i.jsx)(r.ORF,{}),(0,i.jsx)(Text.Z.Div,{content:"Ng\xe0y đăng kiểm"})]}),children:v(t.inspection_date)}),(0,i.jsx)(u,{label:(0,i.jsxs)(p.Z.Row,{alignItems:"center",gap:"10px",children:[(0,i.jsx)(r.ORF,{}),(0,i.jsx)(Text.Z.Div,{content:"Hiệu lực đến ng\xe0y"})]}),children:v(t.expired_date)}),(0,i.jsx)(u,{label:(0,i.jsxs)(p.Z.Row,{alignItems:"center",gap:"10px",children:[(0,i.jsx)(r.gpR,{}),(0,i.jsx)(Text.Z.Div,{content:"Đơn vị kiểm định"})]}),children:w.name}),(0,i.jsx)(u,{label:(0,i.jsxs)(p.Z.Row,{alignItems:"center",gap:"10px",children:[(0,i.jsx)(r.Ty1,{}),(0,i.jsx)(Text.Z.Div,{content:"Số điện thoại"})]}),children:w.phone}),(0,i.jsx)(u,{label:(0,i.jsxs)(p.Z.Row,{alignItems:"center",gap:"10px",children:[(0,i.jsx)(r.WNJ,{}),(0,i.jsx)(Text.Z.Div,{content:"Email"})]}),children:w.email}),(0,i.jsx)(u,{label:(0,i.jsxs)(p.Z.Row,{alignItems:"center",gap:"10px",children:[(0,i.jsx)(r.FJ3,{}),(0,i.jsx)(Text.Z.Div,{content:"Nh\xe2n vi\xean đăng kiểm"})]}),children:f.name}),t.first_time&&(0,i.jsx)(u,{label:(0,i.jsxs)(p.Z.Row,{alignItems:"center",gap:"10px",children:[(0,i.jsx)(r.DCo,{}),(0,i.jsx)(Text.Z.Div,{content:"Đăng kiểm lần đầu"})]}),children:(0,i.jsx)("div",{children:(0,i.jsx)(r.jI1,{style:{color:"#379237"}})})})]})}];return(0,i.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:(0,i.jsx)(o.Z,{items:y,defaultActiveKey:"inspection",accordion:!0,style:{width:"100%"}})})},f=n(79716);function m(e){let[t,n]=(0,c.useState)({car_id:1,user_id:1,centre_id:1}),[o,d]=(0,c.useState)(!1),x=(0,l.useRouter)();return(0,c.useEffect)(()=>{d(!0);let t=async()=>{try{let t=await fetch("http://fall2324w3g10.int3306.freeddns.org/api/v1/inspections?inspection_id=".concat(e.inspectionId));if(!t.ok)throw Error("Fail to get data");let i=await t.json();n(i.data[0]),d(!1)}catch(e){d(!1),console.log(e)}};t()},[]),(0,i.jsx)("div",{children:(0,i.jsxs)(p.Z.Row,{style:{height:"100vh",width:"100vw"},padding:"0",children:[(0,i.jsx)(f.default,{active:"inspection",openMenu:""}),'"',(0,i.jsx)("div",{style:{background:"#e4e4e7",width:"calc(100vw - 256px - 8px)",overflow:"auto",display:"flex",justifyContent:"center",padding:"50px 0"},children:(0,i.jsx)(p.Z.Cell,{style:{marginBottom:"500px",width:"800px"},children:(0,i.jsx)(s.Z,{loading:o,title:(0,i.jsx)(a.ZP,{type:"text",icon:(0,i.jsx)(r.gYP,{style:{fontSize:"2rem",verticalAlign:"middle"}}),onClick:()=>{x.back()}}),children:(0,i.jsx)(s.Z.Meta,{style:{padding:"0 3rem "},title:(0,i.jsx)("div",{style:{marginBottom:"3rem"},children:"Th\xf4ng tin đăng kiểm"}),description:(0,i.jsx)(j,{data:t})})})})})]})})}}},function(e){e.O(0,[3190,2155,6259,3527,4242,3172,6034,187,8104,1342,5679,434,5509,2971,2472,1744],function(){return e(e.s=79597)}),_N_E=e.O()}]);