(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1742],{92259:function(e,t,n){Promise.resolve().then(n.bind(n,4332))},4332:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return w}});var i=n(57437),a=n(6034),s=n(6052),c=n(24033),o=n(2265),l=n(36468),r=n(38437),d=n(20434),h=n(88678),p=n(16350),g=n(28491),x=n(32011),u=n(18501);let{Item:j}=r.default;var m=e=>{let[t,n]=(0,o.useState)({inspection_number:"",inspection_date:"2020-08-05T17:00:00.000Z",expired_date:"2020-08-05T17:00:00.000Z",first_time:""}),[a,s]=(0,o.useState)({number_plate:"",registration_number:"",registration_date:"2020-08-05T17:00:00.000Z",type:"",brand:"",model_code:"",engine_number:"",chassis_number:"",manufactured_year:"",manufactured_country:"",purpose:"",recovered:""}),[c,m]=(0,o.useState)(-1),[f,w]=(0,o.useState)([]),[y,_]=(0,o.useState)([]);function v(e){let t=e.split("-"),n=t[2].split("T")[0];return"".concat(n,"/").concat(t[1],"/").concat(t[0])}(0,o.useEffect)(()=>{document.title="Th\xf4ng tin đăng kiểm",console.log(t)},[t]),(0,o.useEffect)(()=>{(async()=>{try{n(e.data),console.log(e.data);let t=await fetch("".concat("http://fall2324w3g10.int3306.freeddns.org","/api/v1/cars?car_id=").concat(e.data.car_id),{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("accessToken")}});if(!t.ok)throw Error("Fail to get data");let i=await t.json();if(s(i.data[0]),m(i.data[0].owner_id),!(t=await fetch("".concat("http://fall2324w3g10.int3306.freeddns.org","/api/v1/users/?user_id=").concat(e.data.user_id),{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("accessToken")}})).ok||(i=await t.json(),w(i.data[0]),!(t=await fetch("".concat("http://fall2324w3g10.int3306.freeddns.org","/api/v1/centres?centre_id=").concat(e.data.centre_id),{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("accessToken")}})).ok))throw Error("Fail to get data");i=await t.json(),_(i.data[0]),console.log("???")}catch(e){console.log(e)}})()},[]);let Z=[{key:"owner",label:"Th\xf4ng tin chủ sở hữu",children:(0,i.jsx)(p.Z,{ownerId:c})},{key:"car",label:"Phương tiện",children:(0,i.jsx)(h.Z,{data:a})},{key:"specification",label:"Th\xf4ng số kĩ thuật",children:(0,i.jsx)(g.Z,{specification:a})},{key:"inspection",label:"Th\xf4ng tin đăng kiểm",children:(0,i.jsxs)(r.default,{column:1,style:{padding:"1.2rem"},layout:"horizontal",children:[(0,i.jsx)(j,{label:(0,i.jsxs)(x.Z.Row,{alignItems:"center",gap:"10px",children:[(0,i.jsx)(l.$rG,{}),(0,i.jsx)(u.Z.Div,{content:"Số đăng kiểm"})]}),children:t.inspection_number}),(0,i.jsx)(j,{label:(0,i.jsxs)(x.Z.Row,{alignItems:"center",gap:"10px",children:[(0,i.jsx)(l.ORF,{}),(0,i.jsx)(u.Z.Div,{content:"Ng\xe0y đăng kiểm"})]}),children:v(t.inspection_date)}),(0,i.jsx)(j,{label:(0,i.jsxs)(x.Z.Row,{alignItems:"center",gap:"10px",children:[(0,i.jsx)(l.ORF,{}),(0,i.jsx)(u.Z.Div,{content:"Hiệu lực đến ng\xe0y"})]}),children:v(t.expired_date)}),(0,i.jsx)(j,{label:(0,i.jsxs)(x.Z.Row,{alignItems:"center",gap:"10px",children:[(0,i.jsx)(l.gpR,{}),(0,i.jsx)(u.Z.Div,{content:"Đơn vị kiểm định"})]}),children:y.name}),(0,i.jsx)(j,{label:(0,i.jsxs)(x.Z.Row,{alignItems:"center",gap:"10px",children:[(0,i.jsx)(l.Ty1,{}),(0,i.jsx)(u.Z.Div,{content:"Số điện thoại"})]}),children:y.phone}),(0,i.jsx)(j,{label:(0,i.jsxs)(x.Z.Row,{alignItems:"center",gap:"10px",children:[(0,i.jsx)(l.WNJ,{}),(0,i.jsx)(u.Z.Div,{content:"Email"})]}),children:y.email}),(0,i.jsx)(j,{label:(0,i.jsxs)(x.Z.Row,{alignItems:"center",gap:"10px",children:[(0,i.jsx)(l.FJ3,{}),(0,i.jsx)(u.Z.Div,{content:"Nh\xe2n vi\xean đăng kiểm"})]}),children:f.name}),t.first_time&&(0,i.jsx)(j,{label:(0,i.jsxs)(x.Z.Row,{alignItems:"center",gap:"10px",children:[(0,i.jsx)(l.DCo,{}),(0,i.jsx)(u.Z.Div,{content:"Đăng kiểm lần đầu"})]}),children:(0,i.jsx)("div",{children:(0,i.jsx)(l.jI1,{style:{color:"#379237"}})})})]})}];return(0,i.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:(0,i.jsx)(d.Z,{items:Z,defaultActiveKey:"inspection",accordion:!0,style:{width:"100%"}})})},f=n(38790);function w(e){let[t,n]=(0,o.useState)({car_id:1,user_id:1,centre_id:1}),[r,d]=(0,o.useState)(!1),h=(0,c.useRouter)();return(0,o.useEffect)(()=>{d(!0),(async()=>{try{let t=await fetch("".concat("http://fall2324w3g10.int3306.freeddns.org","/api/v1/inspections?inspection_id=").concat(e.inspectionId),{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("accessToken")}});if(!t.ok)throw Error("Fail to get data");let i=await t.json();n(i.data[0]),d(!1)}catch(e){d(!1),console.log(e)}})()},[]),(0,i.jsx)("div",{children:(0,i.jsxs)(x.Z.Row,{style:{height:"100vh",width:"100vw"},padding:"0",children:[(0,i.jsx)(f.Z,{active:"inspection",openMenu:""}),'"',(0,i.jsx)("div",{style:{background:"#e4e4e7",width:"calc(100vw - 256px - 8px)",overflow:"auto",display:"flex",justifyContent:"center",padding:"50px 0"},children:(0,i.jsx)(x.Z.Cell,{style:{marginBottom:"500px",width:"800px"},children:(0,i.jsx)(a.Z,{loading:r,title:(0,i.jsx)(s.ZP,{type:"text",icon:(0,i.jsx)(l.gYP,{style:{fontSize:"2rem",verticalAlign:"middle"}}),onClick:()=>{h.back()}}),children:(0,i.jsx)(a.Z.Meta,{style:{padding:"0 3rem "},title:(0,i.jsx)("div",{style:{marginBottom:"3rem"},children:"Th\xf4ng tin đăng kiểm"}),description:(0,i.jsx)(m,{data:t})})})})})]})})}}},function(e){e.O(0,[3190,2155,3969,1180,2831,5775,3881,3172,6034,187,8104,1342,4181,3878,2971,4938,1744],function(){return e(e.s=92259)}),_N_E=e.O()}]);